import { Component, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterLink, RouterLinkActive } from '@angular/router';
import { DomSanitizer, SafeHtml } from '@angular/platform-browser';

@Component({
  selector: 'app-top-nav',
  imports: [RouterLink, CommonModule],
  templateUrl: './top-nav.html',
  styleUrl: './top-nav.css',
})
export class TopNavComponent implements OnInit {
  rawNavItems = [
    {
      label: 'Dashboard', route: '/dashboard',
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
  <path d="M3 9.41605C3 9.04665 3.18802 8.7001 3.50457 8.48603L11.3046 3.21117C11.7209 2.92961 12.2791 2.92961 12.6954 3.21117L20.4954 8.48603C20.812 8.70011 21 9.04665 21 9.41605V19.2882C21 20.2336 20.1941 21 19.2 21H4.8C3.80589 21 3 20.2336 3 19.2882V9.41605Z" stroke="currentColor" stroke-width="2"/>
</svg>`
    },
    {
      label: 'Accounts', route: '/account',
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 22" fill="none">
  <path d="M11.8004 1V4.6C11.8004 5.26274 12.3376 5.8 13.0004 5.8H16.6004M5.20037 16.6V11.8M8.80038 16.6L8.80037 7M12.4004 16.6V11.8M14.8004 2.8C14.2663 2.32214 13.7121 1.75538 13.3622 1.38728C13.1294 1.14233 12.8077 1 12.4698 1H3.40009C2.07462 1 1.0001 2.07451 1.00009 3.39999L1 17.7999C0.999991 19.1254 2.0745 20.1999 3.39999 20.1999L14.2 20.2C15.5255 20.2 16.6 19.1255 16.6 17.8L16.6004 5.07783C16.6004 4.77099 16.4833 4.47603 16.2704 4.25513C15.8766 3.84665 15.219 3.17452 14.8004 2.8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`
    },
    {
      label: 'Brokers', route: '/brokers',
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
  <path d="M2.39999 18.2168C3.49864 16.3843 5.90651 15.1301 9.66311 15.1301C13.4197 15.1301 15.8276 16.3843 16.9262 18.2168M17.6212 13.7406C19.6106 14.7352 20.6053 15.7299 21.6 17.7193M15.5522 6.1376C16.4883 6.64115 17.1246 7.62991 17.1246 8.7673C17.1246 9.87183 16.5245 10.8362 15.6326 11.3522M12.6472 8.76727C12.6472 10.4153 11.3112 11.7513 9.66311 11.7513C8.01506 11.7513 6.67904 10.4153 6.67904 8.76727C6.67904 7.11922 8.01506 5.7832 9.66311 5.7832C11.3112 5.7832 12.6472 7.11922 12.6472 8.76727Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
</svg>`
    },
    {
      label: 'Submissions', route: '/submissions',
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
  <path d="M18 13V5C18 3.89543 17.1046 3 16 3H9C7.34315 3 6 4.34315 6 6V15M18 13H8C6.89543 13 6 13.8954 6 15M18 13V17M6 15V17M6 17H18M6 17V19C6 20.1046 6.89543 21 8 21H18V17M11 7H13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`
    },
    {
      label: 'Organizations', route: '/organizations',
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 18" fill="none">
  <path d="M9 17H19V7C19 5.89543 18.1046 5 17 5H13M9 13H9.01M15 13H15.01M5 13H5.01M9 9H9.01M15 9H15.01M5 9H5.01M9 5H9.01M5 5H5.01M13 17V3C13 1.89543 12.1046 1 11 1H3C1.89543 1 1 1.89543 1 3V17H13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`
    },
    {
      label: 'Goals & Rules', route: '/goals',
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
  <path d="M21.1016 12.5294C21.1016 11.9771 20.6539 11.5294 20.1016 11.5294C19.5493 11.5294 19.1016 11.9771 19.1016 12.5294H20.1016H21.1016ZM11.5508 5.05882C12.1031 5.05882 12.5508 4.61111 12.5508 4.05882C12.5508 3.50654 12.1031 3.05882 11.5508 3.05882V4.05882V5.05882ZM16.8262 12.5294C16.8262 11.9771 16.3785 11.5294 15.8262 11.5294C15.2739 11.5294 14.8262 11.9771 14.8262 12.5294H15.8262H16.8262ZM11.5508 9.29412C12.1031 9.29412 12.5508 8.8464 12.5508 8.29412C12.5508 7.74183 12.1031 7.29412 11.5508 7.29412V8.29412V9.29412ZM16.0335 9.32561C16.4259 8.93693 16.4289 8.30377 16.0402 7.91141C15.6515 7.51905 15.0184 7.51607 14.626 7.90475L15.3298 8.61518L16.0335 9.32561ZM10.847 11.6483C10.4547 12.0369 10.4517 12.6701 10.8404 13.0625C11.2291 13.4548 11.8622 13.4578 12.2546 13.0691L11.5508 12.3587L10.847 11.6483ZM21 5.99481L21.7038 6.70524C21.9736 6.43791 22.0687 6.04076 21.9492 5.68019C21.8297 5.31962 21.5162 5.0579 21.1401 5.00467L21 5.99481ZM17.5989 9.36396L17.2854 10.3135C17.6425 10.4314 18.0355 10.3391 18.3027 10.0744L17.5989 9.36396ZM14.5758 6.36916L13.872 5.65872C13.601 5.92721 13.5063 6.3265 13.628 6.68807L14.5758 6.36916ZM17.9768 3L18.9666 2.85727C18.9127 2.48345 18.6528 2.17189 18.2947 2.05185C17.9366 1.93181 17.5414 2.02377 17.2731 2.28957L17.9768 3ZM15.3316 8.61526L14.3838 8.93418C14.4842 9.23249 14.7191 9.46614 15.018 9.56483L15.3316 8.61526ZM18.3547 5.62045L17.365 5.76319C17.4284 6.20308 17.7746 6.54831 18.2146 6.61059L18.3547 5.62045ZM20.1016 12.5294H19.1016C19.1016 16.6464 15.7299 20 11.5508 20V21V22C16.8167 22 21.1016 17.7687 21.1016 12.5294H20.1016ZM11.5508 21V20C7.3717 20 4 16.6464 4 12.5294H3H2C2 17.7687 6.28495 22 11.5508 22V21ZM3 12.5294H4C4 8.41238 7.3717 5.05882 11.5508 5.05882V4.05882V3.05882C6.28495 3.05882 2 7.29009 2 12.5294H3ZM15.8262 12.5294H14.8262C14.8262 14.3074 13.3687 15.7647 11.5508 15.7647V16.7647V17.7647C14.4554 17.7647 16.8262 15.4297 16.8262 12.5294H15.8262ZM11.5508 16.7647V15.7647C9.73294 15.7647 8.2754 14.3074 8.2754 12.5294H7.2754H6.2754C6.2754 15.4297 8.64619 17.7647 11.5508 17.7647V16.7647ZM7.2754 12.5294H8.2754C8.2754 10.7515 9.73294 9.29412 11.5508 9.29412V8.29412V7.29412C8.64619 7.29412 6.2754 9.62917 6.2754 12.5294H7.2754ZM15.3298 8.61518L14.626 7.90475L10.847 11.6483L11.5508 12.3587L12.2546 13.0691L16.0335 9.32561L15.3298 8.61518ZM21 5.99481L20.2962 5.28437L16.8952 8.65353L17.5989 9.36396L18.3027 10.0744L21.7038 6.70524L21 5.99481ZM14.5758 6.36916L15.2795 7.07959L18.6806 3.71043L17.9768 3L17.2731 2.28957L13.872 5.65872L14.5758 6.36916ZM17.5989 9.36396L17.9125 8.41439L15.6451 7.66569L15.3316 8.61526L15.018 9.56483L17.2854 10.3135L17.5989 9.36396ZM15.3316 8.61526L16.2793 8.29634L15.5236 6.05024L14.5758 6.36916L13.628 6.68807L14.3838 8.93418L15.3316 8.61526ZM17.9768 3L16.9871 3.14273L17.365 5.76319L18.3547 5.62045L19.3445 5.47772L18.9666 2.85727L17.9768 3ZM18.3547 5.62045L18.2146 6.61059L20.8599 6.98494L21 5.99481L21.1401 5.00467L18.4949 4.63032L18.3547 5.62045Z" fill="currentColor"/>
</svg>`
    },
    {
      label: 'Admin', route: '/admin',
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
  <path d="M9.00024 8.99975H9.12141M18.0011 21.6L11.3083 15.0024C10.0132 15.5043 8.46574 15.3072 7.02822 14.8866C3.60467 13.8851 1.65293 10.3374 2.66888 6.96247C3.68483 3.58758 7.28375 1.66357 10.7073 2.66508C14.1308 3.6666 16.0826 7.21437 15.0666 10.5893L14.9072 11.4546L21.6 18.0522V21.6H18.0011Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`
    },
  ];

  navItems: any[] = [];

  constructor(private sanitizer: DomSanitizer) { }

  ngOnInit() {
    this.navItems = this.rawNavItems.map(item => ({
      ...item,
      svg: this.sanitizer.bypassSecurityTrustHtml(item.svg)
    }));
  }
}
