<div class="mb-4">
    <h3>Account Details</h3>
</div>

<div class="card flex flex-col md:flex-row min-h-[600px] overflow-hidden p-0 border border-white/5">
    <!-- Sidebar -->
    <div class="sidebar w-full md:w-64 border-r border-white/5 bg-[#171821] p-4 flex flex-col gap-6">
        <div>
            <div class="flex justify-between items-center text-xs text-[#94a3b8] font-bold tracking-wider mb-3">
                DECISION SUPPORT <span class="bg-[#2d3748] text-white px-2 py-0.5 rounded text-[10px]">4</span>
            </div>
            <ul class="text-sm space-y-1">
                <li *ngFor="let item of menuItems" class="cursor-pointer transition-all px-3 py-2 rounded-md"
                    [class.bg-blue-600_20]="activeMenu === item" [class.text-blue-400]="activeMenu === item"
                    [class.text-gray-400]="activeMenu !== item" [class.hover:bg-white_5]="activeMenu !== item"
                    (click)="activeMenu = item">
                    {{ item }}
                </li>
            </ul>
        </div>

        <div>
            <div class="flex justify-between items-center text-xs text-[#94a3b8] font-bold tracking-wider mb-2">
                RISK ASSESSMENT <span class="bg-[#2d3748] text-white px-2 py-0.5 rounded text-[10px]">5</span>
            </div>
        </div>

        <div>
            <div class="flex justify-between items-center text-xs text-[#94a3b8] font-bold tracking-wider mb-2">
                DOCUMENTS <span class="bg-[#2d3748] text-white px-2 py-0.5 rounded text-[10px]">2</span>
            </div>
        </div>
    </div>

    <!-- Content -->
    <div class="flex-1 p-8 bg-[#1a1c27]">
        <h2 class="mb-8 font-light text-2xl">Winnability</h2>

        <!-- Top Stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <!-- Score -->
            <div class="stat-box bg-[#1f212f] p-5 rounded-lg border border-white/5 shadow-lg">
                <div class="text-xs text-muted mb-3 uppercase tracking-wider font-semibold">Overall Score</div>
                <div class="flex items-end gap-3">
                    <span class="text-5xl font-extralight text-white leading-none">{{ data.score }}%</span>
                    <span class="text-[10px] border border-blue-500/50 text-blue-400 rounded-full px-2 py-1 mb-1">●●●●
                        Very Strong</span>
                </div>
            </div>

            <!-- Trend -->
            <div class="stat-box bg-[#1f212f] p-5 rounded-lg border border-white/5 shadow-lg">
                <div class="text-xs text-muted mb-3 uppercase tracking-wider font-semibold">Historical trend</div>
                <!-- Fake chart -->
                <svg class="w-full h-12 overflow-visible" viewBox="0 0 100 20">
                    <defs>
                        <linearGradient id="gradientTrend" x1="0" x2="0" y1="0" y2="1">
                            <stop offset="0%" stop-color="#3b82f6" stop-opacity="0.5" />
                            <stop offset="100%" stop-color="#3b82f6" stop-opacity="0" />
                        </linearGradient>
                    </defs>
                    <path d="M0 15 Q20 18 40 10 T80 5 T100 8" fill="none" stroke="#3b82f6" stroke-width="2" />
                    <path d="M0 15 Q20 18 40 10 T80 5 T100 8 V 20 H 0 Z" fill="url(#gradientTrend)" stroke="none" />
                </svg>
            </div>

            <!-- Position -->
            <div class="stat-box bg-[#1f212f] p-5 rounded-lg border border-white/5 shadow-lg">
                <div class="text-xs text-muted mb-3 uppercase tracking-wider font-semibold">Position</div>
                <div class="space-y-3 mt-4">
                    <div class="flex items-center gap-3">
                        <div class="flex-1 h-2 bg-gray-800 rounded-full overflow-hidden">
                            <div class="h-full bg-blue-500 rounded-full" style="width: 82%"></div>
                        </div>
                        <span class="text-xs text-white w-20 text-right font-medium">You: 82%</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <div class="flex-1 h-2 bg-gray-800 rounded-full overflow-hidden">
                            <div class="h-full bg-gray-600 rounded-full" style="width: 63%"></div>
                        </div>
                        <span class="text-xs text-muted w-20 text-right">Avg: 63%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Factors -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            <!-- Increasing -->
            <div>
                <div class="flex items-center gap-2 mb-4 text-[#4ade80] text-sm font-bold uppercase tracking-wide">
                    <div class="w-5 h-5 rounded-full bg-[#4ade80]/20 flex items-center justify-center">↑</div>
                    Increasing Winnability
                </div>
                <div class="space-y-5">
                    <div *ngFor="let item of data.increasing; let i = index" class="relative group">
                        <div class="flex justify-between text-xs text-gray-400 mb-1.5 font-medium">
                            <span class="group-hover:text-white transition-colors">{{ i+1 }}. {{ item.factor }}</span>
                            <span class="text-[#4ade80]">+{{ item.value }}%</span>
                        </div>
                        <div class="h-1.5 w-full bg-gray-800 rounded-full overflow-hidden">
                            <div class="h-full bg-[#4ade80] rounded-full" [style.width.%]="item.value * 2"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Decreasing -->
            <div>
                <div class="flex items-center gap-2 mb-4 text-[#facc15] text-sm font-bold uppercase tracking-wide">
                    <div class="w-5 h-5 rounded-full bg-[#facc15]/20 flex items-center justify-center">↓</div>
                    Decreasing Winnability
                </div>
                <div class="space-y-5">
                    <div *ngFor="let item of data.decreasing; let i = index" class="relative group">
                        <div class="flex justify-between text-xs text-gray-400 mb-1.5 font-medium">
                            <span class="group-hover:text-white transition-colors">{{ i+1 }}. {{ item.factor }}</span>
                            <span class="text-[#facc15]">{{ item.value }}%</span>
                        </div>
                        <div class="h-1.5 w-full bg-gray-800 rounded-full overflow-hidden">
                            <div class="h-full bg-[#facc15] rounded-full" [style.width.%]="item.value * -2"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recommendations -->
        <div class="bg-[#1f212f] p-5 rounded-xl border border-white/5 shadow-lg">
            <div class="flex items-center gap-2 mb-4 text-[#4ade80]">
                <div class="w-8 h-8 rounded-lg bg-[#4ade80]/10 flex items-center justify-center text-lg">✨</div>
                <span class="font-bold text-sm tracking-wide">AI-Powered Recommendations</span>
            </div>

            <div
                class="flex items-center justify-between mb-4 pb-4 border-b border-gray-800 last:border-0 last:mb-0 last:pb-0">
                <div class="text-sm text-gray-400 pr-4">
                    <div class="font-semibold text-white mb-1">Offer 5% premium discount in exchange for 3-year
                        commitment</div>
                    <p class="text-xs leading-relaxed opacity-80">Historical win rate increases 24% with multi-year
                        commitments. Current pricing is 12% above market average.</p>
                </div>
                <button
                    class="btn bg-[#4ade80] hover:bg-[#22c55e] text-[#064e3b] font-bold text-xs px-5 py-2 rounded-full shadow-lg shadow-green-900/20 transition-all transform hover:scale-105">Apply</button>
            </div>
            <div class="flex items-center justify-between pt-1">
                <div class="text-sm text-gray-400 pr-4">
                    <div class="font-semibold text-white mb-1">Propose risk control services for cargo handling
                        procedures</div>
                    <p class="text-xs leading-relaxed opacity-80">Can potentially reduce loss ratio by 15-20% based on
                        similar maritime accounts in your portfolio.</p>
                </div>
                <button
                    class="btn bg-[#4ade80] hover:bg-[#22c55e] text-[#064e3b] font-bold text-xs px-5 py-2 rounded-full shadow-lg shadow-green-900/20 transition-all transform hover:scale-105">Apply</button>
            </div>
        </div>

    </div>
</div>